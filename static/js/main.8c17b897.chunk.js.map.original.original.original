{"version":3,"sources":["components/tree-logo.png","serviceWorker.ts","lib/line-strings.ts","lib/generate-tree.ts","lib/parse-input.ts","store/options/reducers.ts","store/persistence/query-param.ts","third-party/get-parameter-by-name.js","store/persistence/constants.ts","store/persistence/saved-state.ts","store/persistence/local-storage.ts","store/source/reducers.ts","store/index.ts","store/options/types.ts","store/source/types.ts","components/DeploymentStatus.tsx","store/source/actions.ts","components/Input.tsx","store/options/actions.ts","components/ModalButton.tsx","components/Menu.tsx","components/Tree.tsx","components/App.tsx","index.tsx"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","LINE_STRINGS","ascii","CHILD","LAST_CHILD","DIRECTORY","EMPTY","defaultOptions","charset","trailingDirSlash","rootDot","useIcon","getAsciiLine","structure","options","lines","parent","name","chunks","isLastChild","getName","current","unshift","join","substring","length","nameChunks","trailingSlashEnabled","itemHasChildren","children","itemNeedsASlash","test","shouldAddTralingSlash","map","chunk","value","addSlash","commentIndex","indexOf","slashOrFolder","beforeHash","afterHash","adjustComments","replace","last","leadingWhitespaceAndBulletRegex","onlyWhitespaceRegex","newlineSplitterRegex","splitInput","input","filter","line","matchResult","exec","Error","indentCount","initialState","fancy","trailingSlash","getSavedStateFromQueryParam","rawSavedState","url","href","results","RegExp","decodeURIComponent","getParameterByName","savedState","compressed","decompressedString","decompressFromEncodedURIComponent","JSON","parse","decompressJson","version","e","saveStateToQueryParam","baseUrl","protocol","host","pathname","crushedState","json","jsonString","stringify","compressToEncodedURIComponent","compressJson","queryString","history","replaceState","saveState","source","localStorage","setItem","saveStateToLocalStorage","defaultState","trim","localStorageState","getItem","getSavedStateFromLocalStorage","getSavedState","rootReducer","combineReducers","action","type","newValue","getTree","createSelector","generateTree","treeOptions","defaultsDeep","arrayToFlatten","child","flattenDeep","structures","root","path","pop","push","parseInput","DeploymentStatus","props","deploymentStatus","buildMoment","moment","deployedTimestamp","format","deployedAgo","fromNow","commitLink","this","React","Component","updateSource","newSource","Input","editorRef","highlight","code","Fragment","createRef","editorTextarea","querySelector","focus","setSelectionRange","ref","className","StyledEditor","onValueChange","styled","Editor","connect","dispatch","bindActionCreators","updateFancy","updateUseIcon","updateTrailingSlash","updateRootDot","ModalButton","useDisclosure","opened","open","close","Modal","onClose","withCloseButton","centered","size","Stack","align","Text","weight","Code","block","Button","variant","onClick","COPY","FullWidthLink","a","MenuContainer","div","ContentGroup","parameters","useMediaQuery","MOBILE_FOLD","Group","spacing","CheckboxGroup","ButtonGroup","BurgerContainer","TopRightElement","tree","useState","copyButtonText","setCopyButtonText","shareButtonText","setShareButtonText","onCopy","useCallback","setTimeout","onShare","onFancyChanged","event","target","checked","onIconChanged","onTrailingSlashChanged","onRootDotChanged","underline","Checkbox","onChange","label","Divider","orientation","role","aria-label","text","rel","color","Burger","Tree","StyledTree","AppContainer","Container","SubContainer","Footer","Deployment","p","Logo","img","Link","FlexContainer","InputDiv","TreeDiv","FullWidthHeightInput","FullWidthHeightTree","src","TreeLogo","alt","Title","store","currentState","createStore","subscribe","getState","configureStore","render","MantineProvider","withGlobalStyles","withNormalizeCSS","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.8c17b897.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAB8ElEQVR4nOyazarqMBCAk5qfCiKCuHTtQ3Xh27gVfRpd+RTiVu7WhdpVJX8XGiiXezxtgtaJMN/qHBrS+UwmIdOwxWJBvpkMOoBXQQFoUAAaFtKIUtr87ZzrM55oggS01sYYb8I57z+qCLoFrLWTyWQ0GhFClFKXy+XfAQGnIwcYY2VZLpfL/X6/2+22260xJimBoCnEORdCEEKklP2HFEeQgKshhPhMSIoggWYhSmryeL5+H0ABaFAAGhSABgWgQQFoUAAaFIAm9DzgoZQOaj5cm7DW/vbGOAGt9fV65Zy3C2RZRil9i6TvR0ophHjaYYSAc246nRZFMRgM2lvebjel1FuOb845Sumfmqc/XISAMWY+n6/X69fDimWz2axWq9lsprX+71HqSdwUE34bz+gcKMuyvY1PgKhuW7DWZllWVdUbBBhjx+OxKIr2JG4y+I05UFXVeDz+OX+iR8AYc7/f2wX6WGGzmqePovcBVvPhfaDldXECTZUunSJ76qtQJygADQpAgwLQoAA0KAANCkCDAtCEfqn33+ittf2HFEe3gHMuz3NfC/J3VpKiQ8A5J4Q4nU6Hw4EQcj6fU7ttQDvvjVJKH4+HUsofrofD4adiCyJoCkkp8zz3/6aWBnHXbRLk65dRFIAGBaD5GwAA///KQ827gH0lpAAAAABJRU5ErkJggg==\"","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ninterface Config {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n}\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/**\n * Represents an object that contains the\n * actual strings used to render the tree\n */\nexport interface LineStringSet {\n  /** The string to render immediately before non-last children */\n  CHILD: string;\n\n  /** The string to render immediately before the last child */\n  LAST_CHILD: string;\n\n  /** The string to render for parent directories */\n  DIRECTORY: string;\n\n  /** The string to render for empty space */\n  EMPTY: string;\n}\n\n/** Contains all strings for tree rendering */\nexport const LINE_STRINGS: { [charset: string]: LineStringSet } = {\n  ascii: {\n    CHILD: '|- ',\n    LAST_CHILD: '`- ',\n    DIRECTORY: '|  ',\n    EMPTY: '   ',\n  },\n  'utf-8': {\n    CHILD: 'â”œâ”€ ',\n    LAST_CHILD: 'â””â”€ ',\n    DIRECTORY: 'â”‚  ',\n    EMPTY: '   ',\n  },\n};\n","import { RecursiveArray } from 'lodash';\nimport defaultsDeep from 'lodash.defaultsdeep';\nimport flattenDeep from 'lodash.flattendeep';\nimport last from 'lodash.last';\nimport { FileStructure } from './FileStructure';\nimport { LINE_STRINGS } from './line-strings';\n\n/**\n * Represents all rendering options available\n * when calling `generateTree`\n */\ninterface GenerateTreeOptions {\n  /**\n   * Which set of characters to use when\n   * rendering directory lines\n   */\n  charset?: 'ascii' | 'utf-8';\n\n  /**\n   * Whether or not to append trailing slashes\n   * to directories. Items that already include a\n   * trailing slash will not have another appended.\n   */\n  trailingDirSlash?: boolean;\n\n  /**\n   * Whether or not to render a dot as the root of the tree\n   */\n  rootDot?: boolean;\n\n  /**\n   * Whether or not to use a folder icon\n   */\n  useIcon?: boolean;\n}\n\n/** The default options if no options are provided */\nconst defaultOptions: GenerateTreeOptions = {\n  charset: 'utf-8',\n  trailingDirSlash: false,\n  rootDot: true,\n  useIcon: false,\n};\n\n/**\n * Generates an ASCII tree diagram, given a FileStructure\n * @param structure The FileStructure object to convert into ASCII\n * @param options The rendering options\n */\nexport const generateTree = (\n  structure: FileStructure,\n  options?: GenerateTreeOptions,\n): string => {\n  const treeOptions = defaultsDeep({}, options, defaultOptions);\n\n  const asciiLine = getAsciiLine(structure, treeOptions);\n\n  const asciiChildren = structure.children.map(child => {\n    return generateTree(child, options);\n  }) as RecursiveArray<string>;\n\n  const arrayToFlatten = [asciiLine, asciiChildren];\n  const flattenedTree = flattenDeep(arrayToFlatten);\n\n  // Remove null entries. Should only occur for the very first node\n  // when `options.rootDot === false`\n  const cleanedTree = flattenedTree.filter(line => line != null).join('\\n');\n  return cleanedTree;\n};\n\n/**\n * Returns a line of ASCII that represents\n * a single FileStructure object\n * @param structure The file to render\n * @param options The rendering options\n */\nconst getAsciiLine = (\n  structure: FileStructure,\n  options: GenerateTreeOptions,\n): string | null => {\n  const lines = LINE_STRINGS[options.charset as string];\n\n  // Special case for the root element\n  if (!structure.parent) {\n    return options.rootDot ? structure.name : null;\n  }\n\n  const chunks = [\n    isLastChild(structure) ? lines.LAST_CHILD : lines.CHILD,\n    getName(structure, options),\n  ];\n\n  let current = structure.parent;\n\n  while (current && current.parent) {\n    chunks.unshift(isLastChild(current) ? lines.EMPTY : lines.DIRECTORY);\n    current = current.parent;\n  }\n\n  // Join all the chunks together to create the final line.\n  // If we're not rendering the root `.`, chop off the first 4 characters.\n  return chunks.join('').substring(options.rootDot ? 0 : lines.CHILD.length);\n};\n\n/**\n * Returns the name of a file or folder according to the\n * rules specified by the rendering rules\n * @param structure The file or folder to get the name of\n * @param options The rendering options\n */\nconst getName = (\n  structure: FileStructure,\n  options: GenerateTreeOptions,\n): string => {\n  let nameChunks = [structure.name];\n\n  const trailingSlashEnabled = options.trailingDirSlash ?? false;\n  const itemHasChildren = structure.children.length > 0;\n  const itemNeedsASlash = !/\\/\\s*$/.test(structure.name);\n  const shouldAddTralingSlash =\n    trailingSlashEnabled && itemHasChildren && itemNeedsASlash;\n\n  const useIcon = options?.useIcon ?? false;\n\n  // Optionally append a trailing slash\n  nameChunks = nameChunks.map(chunk => {\n    const withMarkdownLinks = convertHTMLLinkToMarkdown(chunk);\n\n    const withCommentsAdjusted = adjustComments({\n      value: withMarkdownLinks,\n      addSlash: shouldAddTralingSlash,\n      useIcon,\n    });\n\n    return withCommentsAdjusted;\n  });\n\n  return nameChunks.join('');\n};\n\n/**\n * A utility function do determine if a file or folder\n * is the last child of its parent\n * @param structure The file or folder to test\n */\nconst isLastChild = (structure: FileStructure): boolean => {\n  return Boolean(\n    structure.parent && last(structure.parent.children) === structure,\n  );\n};\n\nfunction convertHTMLLinkToMarkdown(input: string): string {\n  const urlRegex = /(^|\\s)(https?:\\/\\/[^\\s]+)/g;\n  return input.replace(urlRegex, '$1[Link]($2)');\n}\n\nfunction adjustComments({\n  value,\n  addSlash = false,\n  useIcon = false,\n}: {\n  value: string;\n  addSlash: boolean;\n  useIcon: boolean;\n}): string {\n  // Find the index of ' # ' in the string\n  const commentIndex = value.indexOf(' # ');\n\n  const slashOrFolder = useIcon ? ' ðŸ“‚' : '/';\n\n  // If ' # ' is not found, return the original string,\n  // potentially adding a slash at the end depending on addSlash\n  if (commentIndex === -1) {\n    return addSlash ? `${value}${slashOrFolder}` : value;\n  }\n\n  // If ' # ' is found, return a string where ' # ' is potentially\n  // preceded by a slash depending on addSlash\n  const beforeHash = value.substring(0, commentIndex);\n  const afterHash = value.substring(commentIndex);\n\n  return addSlash\n    ? `${beforeHash}${slashOrFolder}${afterHash}`\n    : `${beforeHash}${afterHash}`;\n}\n","import last from 'lodash.last';\nimport { FileStructure } from './FileStructure';\n\n/**\n * Matches the whitespace in front of a file name.\n * Also will match a markdown bullet point if included.\n * For example, testing against \"  - hello\" will return\n * a positive match with the first capturing group\n * with \"  - \" and a second with \"  \"\n */\nconst leadingWhitespaceAndBulletRegex = /^((\\s*)(?:-\\s)?)/;\n\n/** Matches lines that only contain whitespace */\nconst onlyWhitespaceRegex = /^\\s*$/;\n\n/** Used to split a block of text into individual lines */\nconst newlineSplitterRegex = /[^\\r\\n]+/g;\n\n/**\n * Translates a block of user-created text into\n * a nested FileStructure structure\n * @param input The plain-text input from the user\n */\nexport const parseInput = (input: string): FileStructure => {\n  const structures = splitInput(input);\n\n  const root: FileStructure = {\n    name: '.',\n    children: [],\n    indentCount: -1,\n    parent: null,\n  };\n\n  const path = [root];\n\n  for (const structure of structures) {\n    while (last(path)!.indentCount >= structure.indentCount) {\n      path.pop();\n    }\n\n    const parent = last(path) as FileStructure;\n    parent.children.push(structure);\n    structure.parent = parent;\n\n    path.push(structure);\n  }\n\n  return root;\n};\n\n/**\n * Splits a block of user-created text into\n * individual, un-nested FileStructure objects.\n * Used internally as part of `parseInput`.\n * @param input The plain-text input from the user\n */\nexport const splitInput = (input: string): FileStructure[] => {\n  let lines: string[] = input.match(newlineSplitterRegex) || [];\n\n  // filter out empty lines\n  lines = lines.filter(line => !onlyWhitespaceRegex.test(line)) as string[];\n\n  return lines.map(line => {\n    const matchResult = leadingWhitespaceAndBulletRegex.exec(line);\n\n    if (!matchResult) {\n      throw new Error(\n        `Unable to execute leadingWhitespaceAndBulletRegex against string: \"${line}\"`,\n      );\n    }\n\n    const name = line.replace(matchResult[1], '');\n    const indentCount = matchResult[2].length;\n\n    return {\n      name,\n      children: [],\n      indentCount,\n      parent: null,\n    };\n  });\n};\n","import {\n  OptionActionTypes,\n  OptionsState,\n  UPDATE_FANCY,\n  UPDATE_USE_ICON,\n  UPDATE_ROOT_DOT,\n  UPDATE_TRAILING_SLASH,\n} from './types';\n\nconst defaultState: OptionsState = {\n  fancy: true,\n  trailingSlash: true,\n  rootDot: true,\n  useIcon: false,\n};\n\nconst initialState = defaultState;\n\nexport function optionsReducer(\n  state = initialState,\n  action: OptionActionTypes,\n): OptionsState {\n  switch (action.type) {\n    case UPDATE_FANCY:\n      return {\n        ...state,\n        fancy: action.newValue,\n      };\n    case UPDATE_USE_ICON:\n      return {\n        ...state,\n        useIcon: action.newValue,\n      };\n    case UPDATE_TRAILING_SLASH:\n      return {\n        ...state,\n        trailingSlash: action.newValue,\n      };\n    case UPDATE_ROOT_DOT:\n      return {\n        ...state,\n        rootDot: action.newValue,\n      };\n    default:\n      return state;\n  }\n}\n","import { SourceState } from '..';\nimport { SourceStatePlusVersion } from './AppStatePlusVersion';\nimport { getParameterByName } from '../../third-party/get-parameter-by-name';\nimport { JSONCrush, JSONUncrush } from '../../third-party/JSONCrush';\nimport { CURRENT_SAVED_STATE_SCHEMA_VERSION, QUERY_KEY } from './constants';\nimport {\n  compressToEncodedURIComponent,\n  decompressFromEncodedURIComponent,\n} from 'lz-string';\n\n/**\n * Retrieves the most recent saved state from the query param.\n * If unsuccessful, returns `undefined`.\n */\nexport function getSavedStateFromQueryParam():\n  | SourceStatePlusVersion\n  | undefined {\n  const rawSavedState = getParameterByName(QUERY_KEY);\n  if (!rawSavedState) {\n    return undefined;\n  }\n\n  try {\n    const decompressedState = decompressJson(rawSavedState);\n    const savedState = decompressedState as SourceStatePlusVersion;\n    if (savedState.version !== CURRENT_SAVED_STATE_SCHEMA_VERSION) {\n      return undefined;\n    }\n\n    delete savedState.version;\n\n    return savedState;\n  } catch (e) {\n    return undefined;\n  }\n}\n\n/**\n * Updates the query param with the provided state\n * @param state The state to save\n */\nexport const saveStateToQueryParam = (state: SourceState): void => {\n  const baseUrl = `${window.location.protocol}//${window.location.host}${window.location.pathname}`;\n\n  const crushedState = compressJson({\n    ...state,\n    version: CURRENT_SAVED_STATE_SCHEMA_VERSION,\n  });\n\n  const queryString = `${QUERY_KEY}=${crushedState}`;\n\n  window.history.replaceState(state, '', `${baseUrl}?${queryString}`);\n};\n\nexport function compressJson(json: Record<string, unknown>): string {\n  const jsonString = JSON.stringify(json);\n\n  return compressToEncodedURIComponent(jsonString);\n}\n\nexport function decompressJson(compressed: string): any {\n  const decompressedString = decompressFromEncodedURIComponent(compressed);\n\n  return JSON.parse(decompressedString ?? '');\n}\n\nexport function crushJson(json: Record<string, unknown>): string {\n  const jsonString = JSON.stringify(json);\n\n  return JSONCrush(jsonString);\n}\n\nexport function unCrushJson(compressed: string): any {\n  const decompressedString = JSONUncrush(compressed);\n\n  return JSON.parse(decompressedString ?? '');\n}\n","/* tslint:disable */\n/* eslint-disable */\n\n/** From https://stackoverflow.com/a/901144/1063392 */\nexport function getParameterByName(name, url) {\n  if (!url) url = window.location.href;\n  name = name.replace(/[\\[\\]]/g, '\\\\$&');\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),\n      results = regex.exec(url);\n  if (!results) return null;\n  if (!results[2]) return '';\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n}\n","/** The name of the local storage key to use when saving the current state */\nexport const LS_KEY = 'SAVED_STATE';\n\n/** The key of the query string parameter to use when saving the current state */\nexport const QUERY_KEY = 's';\n\n/**\n * The current schema version of the state.\n * Useful to avoid issues when updating the schema\n * in a future version of tree.nathanfriend.io.\n */\nexport const CURRENT_SAVED_STATE_SCHEMA_VERSION = '2';\n","import { AppState } from '../index';\nimport { SourceStatePlusVersion } from './AppStatePlusVersion';\nimport {\n  getSavedStateFromLocalStorage,\n  saveStateToLocalStorage,\n} from './local-storage';\nimport {\n  getSavedStateFromQueryParam,\n  saveStateToQueryParam,\n} from './query-param';\n\n/**\n * Retrieves the most recent saved state\n * from localStorage or the query param\n * If unsuccessful (or no saved state found), returns undefined\n */\nexport function getSavedState(): SourceStatePlusVersion | undefined {\n  const localStorageState = getSavedStateFromLocalStorage();\n  const queryParamState = getSavedStateFromQueryParam();\n\n  // State in the query param takes precedence over localStorage\n  return queryParamState || localStorageState;\n}\n\n/**\n * Saves the provided state to localStorage or the query param\n * @param state The state to save\n */\nexport const saveState = (state: AppState): void => {\n  saveStateToQueryParam(state.source);\n  saveStateToLocalStorage(state.source);\n};\n","import { SourceState } from '../index';\nimport { SourceStatePlusVersion } from './AppStatePlusVersion';\nimport { CURRENT_SAVED_STATE_SCHEMA_VERSION, LS_KEY } from './constants';\n\n/**\n * Retrieves the most recent saved state from localStorage.\n * If unsuccessful, returns `undefined`.\n */\nexport function getSavedStateFromLocalStorage():\n  | SourceStatePlusVersion\n  | undefined {\n  const rawSavedState = localStorage.getItem(LS_KEY);\n\n  if (!rawSavedState) {\n    return undefined;\n  }\n\n  try {\n    const savedState = JSON.parse(rawSavedState) as SourceStatePlusVersion;\n    if (savedState.version !== CURRENT_SAVED_STATE_SCHEMA_VERSION) {\n      return undefined;\n    }\n\n    delete savedState.version;\n\n    return savedState;\n  } catch (e) {\n    return undefined;\n  }\n}\n\n/**\n * Saves the provided state to localStorage\n * @param state The state to save\n */\nexport const saveStateToLocalStorage = (state: SourceState): void => {\n  localStorage.setItem(\n    LS_KEY,\n    JSON.stringify({ ...state, version: CURRENT_SAVED_STATE_SCHEMA_VERSION }),\n  );\n};\n","import { getSavedState } from '../persistence/saved-state';\nimport { SourceActionTypes, SourceState, UPDATE_SOURCE } from './types';\n\nconst source = `\nEdit me to generate\n  a\n    nice\n      tree\n        diagram!\n        :)\n  Use indentation\n    to indicate\n      file\n      and\n      folder\n      nesting.\n    - You can even\n      - use\n        - markdown\n        - bullets!\n\n`.trim();\n\nconst defaultState: SourceState = {\n  source,\n};\n\nconst savedState = getSavedState();\n\nconst initialState = savedState ? savedState : defaultState;\n\nexport function sourceReducer(\n  state = initialState,\n  action: SourceActionTypes,\n): SourceState {\n  switch (action.type) {\n    case UPDATE_SOURCE:\n      return {\n        ...state,\n        source: action.source,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers, createStore } from 'redux';\nimport { createSelector } from 'reselect';\nimport { generateTree } from '../lib/generate-tree';\nimport { parseInput } from '../lib/parse-input';\nimport { optionsReducer } from './options/reducers';\nimport { OptionsState } from './options/types';\nimport { saveState } from './persistence/saved-state';\nimport { sourceReducer } from './source/reducers';\nimport { SourceState } from './source/types';\n\nconst rootReducer = combineReducers({\n  options: optionsReducer,\n  source: sourceReducer,\n});\n\nexport interface AppState {\n  options: OptionsState;\n  source: SourceState;\n}\n\nexport type { SourceState };\n\nconst getSource = (state: AppState) => state.source.source;\n\nconst getOptions = (state: AppState) => state.options;\n\nexport const getTree = createSelector(\n  [getSource, getOptions],\n  (source, options) => {\n    const parsedInput = parseInput(source);\n\n    const generatedTree = generateTree(parsedInput, {\n      charset: options.fancy ? 'utf-8' : 'ascii',\n      trailingDirSlash: options.trailingSlash,\n      rootDot: options.rootDot,\n      useIcon: options.useIcon,\n    });\n\n    return generatedTree;\n  },\n);\n\nexport const configureStore = () => {\n  const store = createStore(rootReducer);\n\n  let currentState: AppState;\n\n  function onStateUpdated() {\n    const previousState = currentState;\n    currentState = store.getState();\n\n    if (previousState !== currentState) {\n      saveState(currentState);\n    }\n  }\n\n  store.subscribe(onStateUpdated);\n\n  return store;\n};\n","export interface OptionsState {\n  fancy: boolean;\n  useIcon: boolean;\n  trailingSlash: boolean;\n  rootDot: boolean;\n}\n\nexport const UPDATE_FANCY = 'UPDATE_FANCY';\nexport const UPDATE_USE_ICON = 'UPDATE_USE_ICON';\nexport const UPDATE_TRAILING_SLASH = 'UPDATE_TRAILING_SLASH';\nexport const UPDATE_ROOT_DOT = 'UPDATE_ROOT_DOT';\n\ninterface UpdateFancyAction {\n  type: typeof UPDATE_FANCY;\n  newValue: boolean;\n}\n\ninterface UpdateUseIconAction {\n  type: typeof UPDATE_USE_ICON;\n  newValue: boolean;\n}\n\ninterface UpdateTrailingSlashAction {\n  type: typeof UPDATE_TRAILING_SLASH;\n  newValue: boolean;\n}\n\ninterface UpdateRootDotAction {\n  type: typeof UPDATE_ROOT_DOT;\n  newValue: boolean;\n}\n\nexport type OptionActionTypes =\n  | UpdateFancyAction\n  | UpdateUseIconAction\n  | UpdateTrailingSlashAction\n  | UpdateRootDotAction;\n","export interface SourceState {\n  source: string;\n}\n\nexport const UPDATE_SOURCE = 'UPDATE_SOURCE';\n\ninterface UpdateSourceAction {\n  type: typeof UPDATE_SOURCE;\n  source: string;\n}\n\nexport type SourceActionTypes = UpdateSourceAction;\n","import moment from 'moment';\nimport React from 'react';\n\ninterface DeploymentStatusState {\n  deploymentStatus: JSX.Element | string;\n}\n\ninterface DeploymentStatusProps\n  extends React.HtmlHTMLAttributes<HTMLSpanElement> {}\n\nexport class DeploymentStatus extends React.Component<\n  DeploymentStatusProps,\n  DeploymentStatusState\n> {\n  state: DeploymentStatusState = {\n    deploymentStatus: '',\n  };\n\n  constructor(props: DeploymentStatusProps) {\n    super(props);\n\n    const formatString = 'Do [of] MMMM, YYYY \\\\a\\\\t HH:mm:ss ZZ';\n\n    if (process.env.NODE_ENV === 'production') {\n      const buildMoment = moment('2023-05-17T10:02:51Z');\n      const deployedTimestamp = buildMoment.format(formatString);\n      const deployedAgo = buildMoment.fromNow();\n      const commitSha = 'db88605';\n      const commitLink = `%%%CI_PROJECT_URL%%%/commit/${commitSha}`;\n\n      this.state.deploymentStatus = (\n        <span>\n          Last deployed the {deployedTimestamp} ({deployedAgo}) for commit{' '}\n          <a href={commitLink}>{commitSha}</a>\n        </span>\n      );\n    } else {\n      this.state.deploymentStatus = `Running locally. The current date is the ${moment().format(\n        formatString,\n      )}`;\n    }\n  }\n\n  render() {\n    return this.state.deploymentStatus;\n  }\n}\n","import { UPDATE_SOURCE } from './types';\n\nexport function updateSource(newSource: string) {\n  return {\n    type: UPDATE_SOURCE,\n    source: newSource,\n  };\n}\n","import React, { createRef, RefObject } from 'react';\nimport { connect } from 'react-redux';\nimport Editor from 'react-simple-code-editor';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { updateSource } from '../store/source/actions';\nimport { SourceState } from '../store/source/types';\nimport styled from 'styled-components';\nimport './Input.scss';\n\ninterface InputProps extends React.HtmlHTMLAttributes<HTMLDivElement> {\n  source: string;\n  updateSource: typeof updateSource;\n}\n\nexport class Input extends React.Component<InputProps> {\n  editorRef: RefObject<HTMLDivElement>;\n\n  constructor(props: Readonly<InputProps>) {\n    super(props);\n    this.editorRef = createRef();\n  }\n\n  componentDidMount() {\n    // Ideally, it would be possible to just call\n    // a .focus() method on the Editor instance instead:\n    // https://github.com/satya164/react-simple-code-editor/issues/25\n    if (this.editorRef.current) {\n      const editorTextarea = this.editorRef.current.querySelector('textarea');\n      if (editorTextarea) {\n        // focus the code editor\n        editorTextarea.focus();\n\n        // move the cursor to the end\n        editorTextarea.setSelectionRange(\n          editorTextarea.value.length,\n          editorTextarea.value.length,\n        );\n      }\n    }\n  }\n\n  /**\n   * Applies no syntax highlighting.\n   * Required for TypeScript compilation.\n   */\n  highlight = (code: string) => <React.Fragment>{code}</React.Fragment>;\n\n  render() {\n    return (\n      <div\n        ref={this.editorRef}\n        className={`input p-2 d-flex rounded-sm ${this.props.className}`}\n      >\n        <StyledEditor\n          value={this.props.source}\n          onValueChange={this.props.updateSource}\n          highlight={this.highlight}\n        />\n      </div>\n    );\n  }\n}\n\nconst StyledEditor = styled(Editor)``;\n\nconst mapStateToProps = ({ source }: { source: SourceState }) => ({\n  source: source.source,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators({ updateSource }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Input);\n","import {\n  UPDATE_FANCY,\n  UPDATE_TRAILING_SLASH,\n  UPDATE_ROOT_DOT,\n  UPDATE_USE_ICON,\n} from './types';\n\nexport function updateFancy(newValue: boolean) {\n  return {\n    type: UPDATE_FANCY,\n    newValue,\n  };\n}\n\nexport function updateUseIcon(newValue: boolean) {\n  return {\n    type: UPDATE_USE_ICON,\n    newValue,\n  };\n}\n\nexport function updateTrailingSlash(newValue: boolean) {\n  return {\n    type: UPDATE_TRAILING_SLASH,\n    newValue,\n  };\n}\n\nexport function updateRootDot(newValue: boolean) {\n  return {\n    type: UPDATE_ROOT_DOT,\n    newValue,\n  };\n}\n","import React from 'react';\nimport { useDisclosure } from '@mantine/hooks';\nimport { Modal, Button, Text, Stack } from '@mantine/core';\nimport { Code } from '@mantine/core';\n\nconst codeForPreviousDemo = `Use a hash/pund sign (#) to add a comment after a folder.\n\nExample:\nlib # Example\n\nBecomes:\nâ”œâ”€ lib/ # Example`;\n\nexport default function ModalButton() {\n  const [opened, { open, close }] = useDisclosure(false);\n\n  return (\n    <>\n      <Modal\n        opened={opened}\n        onClose={close}\n        withCloseButton={false}\n        centered\n        size=\"auto\"\n      >\n        <Stack align=\"center\">\n          <Text weight=\"bold\">Tips and tricks</Text>\n\n          <Code block>{codeForPreviousDemo}</Code>\n        </Stack>\n      </Modal>\n\n      <Button variant=\"subtle\" onClick={open}>\n        Tips and Tricks\n      </Button>\n    </>\n  );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useCallback, FC } from 'react';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { connect } from 'react-redux';\nimport { bindActionCreators, Dispatch } from 'redux';\nimport { AppState, getTree } from '../store';\nimport { useDisclosure, useMediaQuery } from '@mantine/hooks';\nimport { Burger } from '@mantine/core';\nimport {\n  Button,\n  Checkbox,\n  Text,\n  Group,\n  Stack,\n  Modal,\n  Divider,\n} from '@mantine/core';\nimport styled from 'styled-components';\nimport {\n  updateFancy,\n  updateUseIcon,\n  updateTrailingSlash,\n  updateRootDot,\n} from '../store/options/actions';\nimport { MOBILE_FOLD } from './App';\nimport ModalButton from './ModalButton';\n\nconst COPY = 'Copy to clipboard';\nconst SHARE = 'Share URL';\n\nconst BUTTON_TEXT_TIMEOUT = 1200;\n\nconst Menu: React.FC<{\n  tree: string;\n  fancy: boolean;\n  useIcon: boolean;\n  trailingSlash: boolean;\n  rootDot: boolean;\n  updateFancy: (newValue: boolean) => void;\n  updateUseIcon: (newValue: boolean) => void;\n  updateTrailingSlash: (newValue: boolean) => void;\n  updateRootDot: (newValue: boolean) => void;\n}> = props => {\n  const [copyButtonText, setCopyButtonText] = useState(COPY);\n  const [shareButtonText, setShareButtonText] = useState(SHARE);\n\n  const [opened, { open, close }] = useDisclosure(false);\n\n  const onCopy = useCallback(() => {\n    setCopyButtonText('Tree was copied!');\n    setTimeout(() => setCopyButtonText(COPY), BUTTON_TEXT_TIMEOUT);\n  }, []);\n\n  const onShare = useCallback(() => {\n    setShareButtonText('URL was copied!');\n    setTimeout(() => setShareButtonText(SHARE), BUTTON_TEXT_TIMEOUT);\n  }, []);\n\n  const onFancyChanged = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      props.updateFancy(event.target.checked);\n    },\n    [props.updateFancy],\n  );\n\n  const onIconChanged = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      props.updateUseIcon(event.target.checked);\n    },\n    [props.updateUseIcon],\n  );\n\n  const onTrailingSlashChanged = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      props.updateTrailingSlash(event.target.checked);\n    },\n    [props.updateTrailingSlash],\n  );\n\n  const onRootDotChanged = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      props.updateRootDot(event.target.checked);\n    },\n    [props.updateRootDot],\n  );\n\n  return (\n    <>\n      <Modal\n        opened={opened}\n        onClose={close}\n        withCloseButton={false}\n        centered\n        size=\"auto\"\n      >\n        <MenuContainer>\n          <ContentGroup>\n            <CheckboxGroup spacing=\"sm\" align=\"center\">\n              <Text weight=\"bold\" underline>\n                Formatting\n              </Text>\n              <Stack spacing=\"sm\" align=\"stretch\">\n                <Checkbox\n                  checked={props.fancy}\n                  onChange={onFancyChanged}\n                  label=\"Use fancy format\"\n                />\n                <Checkbox\n                  checked={props.rootDot}\n                  onChange={onRootDotChanged}\n                  label=\"Prefix root with dot\"\n                />\n                <Checkbox\n                  checked={props.trailingSlash}\n                  onChange={onTrailingSlashChanged}\n                  label=\"Use trailing slash\"\n                />\n                {props.trailingSlash && (\n                  <Checkbox\n                    checked={props.useIcon}\n                    onChange={onIconChanged}\n                    label=\"Use folder icons\"\n                  />\n                )}\n              </Stack>\n            </CheckboxGroup>\n\n            <Divider orientation=\"vertical\" variant=\"dashed\" />\n\n            <ButtonGroup>\n              <Stack\n                spacing=\"sm\"\n                role=\"group\"\n                aria-label=\"Copy and share buttons\"\n              >\n                <CopyToClipboard text={props.tree} onCopy={onCopy}>\n                  <Button>{copyButtonText}</Button>\n                </CopyToClipboard>\n\n                <CopyToClipboard text={window.location.href} onCopy={onShare}>\n                  <Button variant=\"light\">{shareButtonText}</Button>\n                </CopyToClipboard>\n              </Stack>\n\n              <Divider orientation=\"horizontal\" variant=\"dashed\" />\n\n              <FullWidthLink\n                href=\"https://github.com/mortenbroesby/tree-online#what-is-this\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <Button color=\"orange\">Read more here</Button>\n              </FullWidthLink>\n            </ButtonGroup>\n          </ContentGroup>\n        </MenuContainer>\n      </Modal>\n\n      <TopRightElement>\n        <BurgerContainer>\n          <ModalButton />\n          <Burger\n            opened={opened}\n            onClick={open}\n            aria-label={opened ? 'Close navigation' : 'Open navigation'}\n          />\n        </BurgerContainer>\n      </TopRightElement>\n    </>\n  );\n};\n\nconst FullWidthLink = styled.a`\n  width: 100%;\n\n  & > * {\n    width: 100%;\n  }\n`;\n\nconst MenuContainer = styled.div`\n  padding: 48px 16px;\n  background-color: white;\n  min-width: 200px;\n  border-radius: 8px;\n`;\n\nconst ContentGroup: FC = ({ children, ...parameters }) => {\n  const isLargeScreen = useMediaQuery(`(min-width: ${MOBILE_FOLD}px`);\n\n  if (isLargeScreen) {\n    return (\n      <Group align=\"center\" spacing=\"xl\" {...parameters}>\n        {children}\n      </Group>\n    );\n  }\n\n  return (\n    <Stack align=\"center\" spacing=\"xl\" {...parameters}>\n      {children}\n    </Stack>\n  );\n};\n\nconst CheckboxGroup = styled(Stack)`\n  max-width: 220px;\n  min-width: 220px;\n`;\n\nconst ButtonGroup = styled(Stack)`\n  max-width: 220px;\n  min-width: 220px;\n`;\n\nconst BurgerContainer = styled(Group)`\n  padding: 12px;\n`;\n\nconst TopRightElement = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n`;\n\nconst mapStateToProps = (state: AppState) => ({\n  tree: getTree(state),\n  fancy: state.options.fancy,\n  useIcon: state.options.useIcon,\n  trailingSlash: state.options.trailingSlash,\n  rootDot: state.options.rootDot,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      updateFancy,\n      updateUseIcon,\n      updateTrailingSlash,\n      updateRootDot,\n    },\n    dispatch,\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { AppState, getTree } from '../store';\nimport styled from 'styled-components';\nimport './Tree.scss';\n\ninterface TreeProps extends React.HtmlHTMLAttributes<HTMLDivElement> {\n  tree: string;\n}\n\nexport class Tree extends React.Component<TreeProps> {\n  render() {\n    return <StyledTree>{this.props.tree}</StyledTree>;\n  }\n}\n\nconst StyledTree = styled.div`\n  padding: 12px;\n  white-space: pre;\n\n  font-family: 'Fira code', 'Fira Mono', source-code-pro, Menlo, Monaco,\n    Consolas, 'Courier New', monospace;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  font-size: 14px;\n`;\n\nconst mapStateToProps = (state: AppState) => ({\n  tree: getTree(state),\n});\n\nexport default connect(mapStateToProps)(Tree);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { DeploymentStatus } from './DeploymentStatus';\nimport Input from './Input';\nimport Menu from './Menu';\nimport Tree from './Tree';\nimport { Group, Title } from '@mantine/core';\nimport styled from 'styled-components';\nimport TreeLogo from './tree-logo.png';\n\nconst App = () => {\n  return (\n    <AppContainer>\n      <Container>\n        <SubContainer>\n          <Logo src={TreeLogo} alt=\"Tree Online\" />\n          <Title size=\"h3\">Tree Online</Title>\n        </SubContainer>\n      </Container>\n\n      <FlexContainer>\n        <InputDiv>\n          <FullWidthHeightInput />\n        </InputDiv>\n        <TreeDiv>\n          <FullWidthHeightTree />\n        </TreeDiv>\n      </FlexContainer>\n\n      <Footer>\n        <Deployment>\n          <DeploymentStatus />\n        </Deployment>\n\n        <Link href=\"https://github.com/mortenbroesby/tree-online\">\n          View the source on Github\n        </Link>\n      </Footer>\n\n      <Menu />\n    </AppContainer>\n  );\n};\n\nexport const MOBILE_FOLD = 900;\n\nconst AppContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  min-height: 100vh;\n  padding: 10px;\n  overflow: hidden;\n`;\n\nconst Container = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  margin-bottom: 2px;\n`;\n\nconst SubContainer = styled(Group)`\n  flex: 1;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  flex-wrap: wrap;\n  margin-bottom: 4px;\n\n  @media (min-width: ${MOBILE_FOLD}px) {\n    flex-direction: row;\n  }\n`;\n\nconst Footer = styled.div`\n  flex-grow: 0;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  flex-direction: column;\n\n  @media (min-width: ${MOBILE_FOLD}px) {\n    flex-direction: row;\n    text-align: center;\n  }\n`;\n\nconst Deployment = styled.p`\n  margin-bottom: 2px;\n  padding-right: 0;\n  margin-right: unset;\n  color: #95a5a6 !important;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media (min-width: ${MOBILE_FOLD}px) {\n    margin-right: auto;\n  }\n`;\n\nconst Logo = styled.img`\n  height: 32px;\n  width: 32px;\n`;\n\nconst Link = styled.a`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 2px;\n\n  @media (min-width: ${MOBILE_FOLD}px) {\n    margin-top: 0;\n  }\n`;\n\nconst FlexContainer = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: ${MOBILE_FOLD}px) {\n    flex-direction: row;\n  }\n`;\n\nconst InputDiv = styled.div`\n  flex: 1;\n  display: flex;\n\n  @media (min-width: ${MOBILE_FOLD}px) {\n    max-width: 50%;\n  }\n`;\n\nconst TreeDiv = styled.div`\n  flex: 1;\n  display: flex;\n  padding-left: 0;\n\n  @media (min-width: ${MOBILE_FOLD}px) {\n    padding-left: 12px;\n    max-width: 50%;\n  }\n`;\n\nconst FullWidthHeightInput = styled(Input)`\n  flex-grow: 1;\n`;\n\nconst FullWidthHeightTree = styled(Tree)`\n  flex-grow: 1;\n`;\n\nexport default connect()(App);\n","import './polyfills.ts';\n\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\nimport { configureStore } from './store';\nimport { MantineProvider } from '@mantine/core';\n\nimport './third-party/JSONCrush';\n\nimport './index.scss';\n\nimport App from './components/App';\n\nconst store = configureStore();\n\nrender(\n  <MantineProvider withGlobalStyles withNormalizeCSS>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </MantineProvider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}